\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{my-style}[2023/02/23 ...]
% \LoadClassWithOptions{article}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{geometry}
\geometry{left=2cm, top=3cm, right=2cm, bottom=3cm,
  a4paper , headheight=16pt
}

\RequirePackage[pdfusetitle]{hyperref}
\hypersetup{
  breaklinks=true,
  colorlinks=true,
  linkcolor=.,
  urlcolor=blue
}

\usepackage{tikz}
\usepackage{lastpage}
\usepackage[most]{tcolorbox}
\usetikzlibrary{calc}
\usepackage{calc}

% \makeatletter
\newcommand{\RTList}{\raggedleft\rightskip\@totalleftmargin} 
\newcommand{\LTList}{\raggedright\leftskip\@totalrightmargin} 
% \makeatother

% to support english documents
\newif\if@mylang\@mylangfalse
\DeclareOption{en}{\@mylangtrue}
\DeclareOption*{\OptionNotUsed}
\ProcessOptions\relax

\newcommand{\sigline}[1]{\makebox[\widthof{#1~}]{.\dotfill}}
\RequirePackageWithOptions{my-variable}

\definecolor{color1}{rgb}{0,0,0}% primary theme color

\RequirePackage{my-environments}

\RequirePackage{fancyhdr}
\RequirePackage{lastpage}

\fancypagestyle{firstpage}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \renewcommand{\footrulewidth}{0.5pt}
  \fancyfoot[L]{\@prof}
  \fancyfoot[C]{\@subtitle}
  \fancyfoot[R]{\@Page\ \thepage\ \@of\ \pageref{LastPage}}
}

% Rest of the pages have both header and footer
\fancypagestyle{normalpage}{
  \renewcommand{\headrulewidth}{0.5pt}
  \renewcommand{\footrulewidth}{0.5pt}
  \fancyhead[L]{\@subject}
  \fancyhead[C]{\slshape\@title}
  \fancyhead[R]{\@mydate}
  \fancyfoot[L]{\@prof}
  \fancyfoot[C]{\@subtitle}
  \fancyfoot[R]{\@Page\ \thepage\ \@of\ \pageref{LastPage}}
}
% No line above footnotes
\renewcommand\footnoterule{}

\RequirePackageWithOptions{my-title}

\pagestyle{normalpage}